[gd_scene load_steps=9 format=3 uid="uid://wild3kaillouxmap"]

[ext_resource type="PackedScene" uid="uid://bqr5c8j2xk3yp" path="res://scenes/player/player.tscn" id="1_player"]
[ext_resource type="PackedScene" uid="uid://cnpc8kailloux3" path="res://scenes/npcs/kaillou_npc.tscn" id="2_npc"]
[ext_resource type="PackedScene" uid="uid://dchest3kailloux" path="res://scenes/world/objects/chest.tscn" id="3_chest"]
[ext_resource type="Texture2D" uid="uid://tile_grass_wild" path="res://assets/sprites/environment/tile_grass_dark.svg" id="4_grass"]
[ext_resource type="Texture2D" uid="uid://tree_wild" path="res://assets/sprites/environment/tree.svg" id="5_tree"]
[ext_resource type="Texture2D" uid="uid://bush_wild" path="res://assets/sprites/environment/bush.svg" id="6_bush"]
[ext_resource type="Texture2D" uid="uid://rock_wild" path="res://assets/sprites/environment/rock.svg" id="7_rock"]
[ext_resource type="Texture2D" uid="uid://water_wild" path="res://assets/sprites/environment/tile_water.svg" id="8_water"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall"]
size = Vector2(2000, 32)

[node name="Wilderness" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
z_index = -10
offset_left = -1000.0
offset_top = -800.0
offset_right = 1000.0
offset_bottom = 800.0
color = Color(0.24, 0.35, 0.18, 1)

[node name="DarkAreas" type="Node2D" parent="."]
z_index = -8

[node name="DarkZone1" type="ColorRect" parent="DarkAreas"]
offset_left = -900.0
offset_top = -700.0
offset_right = -400.0
offset_bottom = -300.0
color = Color(0.12, 0.18, 0.1, 0.6)

[node name="DarkZone2" type="ColorRect" parent="DarkAreas"]
offset_left = 500.0
offset_top = 200.0
offset_right = 900.0
offset_bottom = 600.0
color = Color(0.12, 0.18, 0.1, 0.5)

[node name="Water" type="Node2D" parent="."]
z_index = -6

[node name="Lake" type="ColorRect" parent="Water"]
offset_left = -200.0
offset_top = -150.0
offset_right = 200.0
offset_bottom = 150.0
color = Color(0.29, 0.56, 0.69, 1)

[node name="LakeHighlight" type="ColorRect" parent="Water"]
offset_left = -150.0
offset_top = -100.0
offset_right = 100.0
offset_bottom = 50.0
color = Color(0.42, 0.69, 0.82, 0.4)

[node name="Stream" type="ColorRect" parent="Water"]
offset_left = 200.0
offset_top = -20.0
offset_right = 600.0
offset_bottom = 20.0
color = Color(0.29, 0.56, 0.69, 1)

[node name="Ground" type="Node2D" parent="."]

[node name="Paths" type="Node2D" parent="."]
z_index = -5

[node name="DirtPath1" type="ColorRect" parent="Paths"]
offset_left = -800.0
offset_top = 500.0
offset_right = -200.0
offset_bottom = 560.0
color = Color(0.5, 0.4, 0.3, 1)

[node name="DirtPath2" type="ColorRect" parent="Paths"]
offset_left = 200.0
offset_top = -600.0
offset_right = 260.0
offset_bottom = -150.0
color = Color(0.5, 0.4, 0.3, 1)

[node name="Decorations" type="Node2D" parent="."]
z_index = -2

[node name="Tree1" type="Sprite2D" parent="Decorations"]
position = Vector2(-700, -500)
texture = ExtResource("5_tree")

[node name="Tree2" type="Sprite2D" parent="Decorations"]
position = Vector2(-800, -350)
texture = ExtResource("5_tree")

[node name="Tree3" type="Sprite2D" parent="Decorations"]
position = Vector2(-600, -400)
texture = ExtResource("5_tree")

[node name="Tree4" type="Sprite2D" parent="Decorations"]
position = Vector2(-550, -600)
texture = ExtResource("5_tree")

[node name="Tree5" type="Sprite2D" parent="Decorations"]
position = Vector2(700, 350)
texture = ExtResource("5_tree")

[node name="Tree6" type="Sprite2D" parent="Decorations"]
position = Vector2(800, 450)
texture = ExtResource("5_tree")

[node name="Tree7" type="Sprite2D" parent="Decorations"]
position = Vector2(650, 500)
texture = ExtResource("5_tree")

[node name="Tree8" type="Sprite2D" parent="Decorations"]
position = Vector2(-400, 600)
texture = ExtResource("5_tree")

[node name="Tree9" type="Sprite2D" parent="Decorations"]
position = Vector2(-250, 650)
texture = ExtResource("5_tree")

[node name="Tree10" type="Sprite2D" parent="Decorations"]
position = Vector2(400, -500)
texture = ExtResource("5_tree")

[node name="Tree11" type="Sprite2D" parent="Decorations"]
position = Vector2(550, -600)
texture = ExtResource("5_tree")

[node name="Tree12" type="Sprite2D" parent="Decorations"]
position = Vector2(-850, 100)
texture = ExtResource("5_tree")

[node name="Bush1" type="Sprite2D" parent="Decorations"]
position = Vector2(-500, -200)
texture = ExtResource("6_bush")

[node name="Bush2" type="Sprite2D" parent="Decorations"]
position = Vector2(500, -300)
texture = ExtResource("6_bush")

[node name="Bush3" type="Sprite2D" parent="Decorations"]
position = Vector2(-300, 400)
texture = ExtResource("6_bush")

[node name="Bush4" type="Sprite2D" parent="Decorations"]
position = Vector2(350, 200)
texture = ExtResource("6_bush")

[node name="Bush5" type="Sprite2D" parent="Decorations"]
position = Vector2(-650, -100)
texture = ExtResource("6_bush")

[node name="Bush6" type="Sprite2D" parent="Decorations"]
position = Vector2(600, 100)
texture = ExtResource("6_bush")

[node name="Rock1" type="Sprite2D" parent="Decorations"]
position = Vector2(-750, -600)
texture = ExtResource("7_rock")

[node name="Rock2" type="Sprite2D" parent="Decorations"]
position = Vector2(750, -400)
texture = ExtResource("7_rock")

[node name="Rock3" type="Sprite2D" parent="Decorations"]
position = Vector2(-800, 400)
texture = ExtResource("7_rock")

[node name="Rock4" type="Sprite2D" parent="Decorations"]
position = Vector2(850, 600)
texture = ExtResource("7_rock")

[node name="Rock5" type="Sprite2D" parent="Decorations"]
position = Vector2(-350, -450)
texture = ExtResource("7_rock")

[node name="Rock6" type="Sprite2D" parent="Decorations"]
position = Vector2(300, 550)
texture = ExtResource("7_rock")

[node name="Walls" type="Node2D" parent="."]

[node name="WallTop" type="StaticBody2D" parent="Walls"]
position = Vector2(0, -816)
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallTop"]
shape = SubResource("RectangleShape2D_wall")

[node name="WallBottom" type="StaticBody2D" parent="Walls"]
position = Vector2(0, 816)
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallBottom"]
shape = SubResource("RectangleShape2D_wall")

[node name="WallLeft" type="StaticBody2D" parent="Walls"]
position = Vector2(-1016, 0)
rotation = 1.5708
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallLeft"]
shape = SubResource("RectangleShape2D_wall")

[node name="WallRight" type="StaticBody2D" parent="Walls"]
position = Vector2(1016, 0)
rotation = 1.5708
collision_layer = 4
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallRight"]
shape = SubResource("RectangleShape2D_wall")

[node name="Player" parent="." instance=ExtResource("1_player")]
position = Vector2(0, 600)

[node name="NPCs" type="Node2D" parent="."]

[node name="NPC_Obsidian" parent="NPCs" instance=ExtResource("2_npc")]
position = Vector2(-600, -450)
kaillou_type = 1
personality = "mysterious"
dialogue_lines = Array[String](["...", "Les ombres murmurent des secrets...", "Cherche dans l'obscurite."])

[node name="NPC_Quartz" parent="NPCs" instance=ExtResource("2_npc")]
position = Vector2(450, -350)
kaillou_type = 3
dialogue_lines = Array[String](["La verite brille meme dans les tenebres.", "Tu trouveras ce que tu cherches.", "La bougie attend dans la grotte au nord."])

[node name="NPC_WildGravel" parent="NPCs" instance=ExtResource("2_npc")]
position = Vector2(-350, 350)
kaillou_type = 4
start_sleeping = true
dialogue_lines = Array[String](["Hein? Qui est la?!", "Cette foret est dangereuse la nuit...", "J'ai vu des choses etranges par ici..."])

[node name="Chests" type="Node2D" parent="."]

[node name="ChestCandle" parent="Chests" instance=ExtResource("3_chest")]
position = Vector2(-700, -550)
content_item_id = "candle"

[node name="ChestHealingMoss" parent="Chests" instance=ExtResource("3_chest")]
position = Vector2(600, 450)
content_item_id = "healing_moss"

[node name="ChestKey" parent="Chests" instance=ExtResource("3_chest")]
position = Vector2(700, -500)
content_item_id = "key_wilderness"

[node name="ChestTrap1" parent="Chests" instance=ExtResource("3_chest")]
position = Vector2(-750, 500)
is_trap = true

[node name="ChestTrap2" parent="Chests" instance=ExtResource("3_chest")]
position = Vector2(250, -550)
is_trap = true
